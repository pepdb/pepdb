- if params[:comptype] == "unique"
  #compacc
    - @datasets.each do |ds|
      %h3
        = ds
      %div
        %table.mot_table
          %thead.ui-widget-header
            %tr
              - @columns.each do |column|
                %th
                  = column[0].to_s.tr('_', ' ')        
                  %br
                  %input{:type => "text", :class => "text_filter", :placeholder => "filter"}
          %tbody.ui-widget-content
            - @results[ds.to_sym].each do |row|
              %tr
                - row.each do |cell|
                  - if align_right?(cell[0])
                    -if is_dominance?(cell[0])
                      %td.alnright= format_dominance(cell[1])
                    - else
                      %td.alnright= cell[1]

                  -else
                    %td= cell[1]

- else
  #commoncl
    %table#show_table
      %thead.ui-widget-header
        %tr
          %th<>
            consensus sequence
            %br
            %input{:type => "text", :class => "text_filter", :placeholder => "filter"}  
          - @datasets.each do
            %th
              dataset                
              %br
              %input{:type => "text", :class => "text_filter", :placeholder => "filter"}
            %th
              dominance_sum
              %br
              %input{:type => "text", :class => "text_filter", :placeholder => "filter"}
      %tbody.ui-widget-content
        - @results.each do |seq|
          %tr
            %td<> 
              = seq
            - @datasets.each do |ds|
              - @clusters.where(:consensus_sequence => seq, :dataset_name => ds).each do |cell|
                %td<>
                  = cell[:dataset_name]
                %td.alnright<> 
                  = format_dominance(cell[:dominance_sum])
