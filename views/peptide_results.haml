- if request.path_info == "/systemic-results"
  = partial :tables, locals: {table_class:"display", table_id: "pep_table", choice:"", first_data_to_display:@peptides, second_data_to_display:@peptides.limit(30)}

- elsif request.path_info == "/comparative-results"
  - if params[:radio_ds].nil? || params[:ref_ds].nil?
    .ui-widget
      %div{:class => "ui-state-error ui-corner-all", :id=> "errorbox"}
        %p
          %span{:class => "ui-icon ui-icon-alert", :id => "errorspan"}
          %strong Error:
          at least one dataset selection per section needed

  - elsif (params[:ref_dom_max].empty? && params[:ref_dom_min].empty?) || (params[:ds_dom_max].empty? && params[:ds_dom_min].empty?)
    %p.ui-state-error at least one dominance limit needs to be selected per section

  - elsif params[:comp_type].nil?
    %p.ui-state-error choose search method!
  - else 
    %p
      results
      - if @peptides.count > 0
        = partial :tables, locals: {table_class: "display", table_id: "show_table", choice:"", first_data_to_display:@peptides, second_data_to_display:@peptides}
      - else
        %p no matches found
- else
  = partial :tables, locals: {table_class:"test" , table_id: "select_table", choice:"", first_data_to_display:@cluster, second_data_to_display:@cluster.where(:peptide_sequence => "#{params['pep-seq']}", :dataset_name => @datasets)}
  
