%h3 Add Sequencing Dataset
%form{:id => "addds", :action => "/validate-data", :method => "post"}
  %input{:type => "hidden", :value => "dataset", :name => "submittype", :id =>"submittype"}
  %fieldset.dsform
    %legend sequencing dataset information:
    %p
      %label{:for => "dsname"}
        %span name:
        %input{:type => "text", :name => "dsname", :id => "dsname", :required => true} 
        %strong
          %abbr{:title => "required"}*
    %p
      %label{:for => "date"}
        %span date:
        %input{:type => "text", :name => "date", :id => "date", :value => "yyyy-mm-dd"} 
    %p
      = partial :datalist, locals: {req: false, label:"readtype", fieldname:"read type:", listname:"rtypelist", listlabel:"readtypes", dbdata:@ds_infos.group(:read_type), columnname: :read_type}
    %p
      = partial :datalist, locals: {req: false, label:"usedind", fieldname:"used indices:", listname:"indicelist", listlabel:"usedindices", dbdata:@ds_infos.group(:used_indices), columnname: :used_indices}
    %p
      = partial :datalist, locals: {req: false, label:"origin", fieldname:"origin:", listname:"originlist", listlabel:"origins", dbdata:@ds_infos.group(:origin), columnname: :origin}
    %p
      = partial :datalist, locals: {req: false, label:"produced", fieldname:"produced by:", listname:"prodlist", listlabel:"prods", dbdata:@ds_infos.group(:produced_by), columnname: :produced_by}
    %p
      = partial :datalist, locals: {req: false, label:"seqer", fieldname:"sequencer:", listname:"seqlist", listlabel:"sequencers", dbdata:@ds_infos.group(:sequencer), columnname: :sequencer}
    %p
      = partial :datalist, locals: {req: false, label:"selround", fieldname:"selection round:", listname:"selrlist", listlabel:"selrounds", dbdata:@ds_infos.group(:selection_round), columnname: :selection_round}
    %p
      = partial :datalist, locals: {req: false, label:"seql", fieldname:"sequence length:", listname:"seqllist", listlabel:"seqlengths", dbdata:@ds_infos.group(:sequence_length), columnname: :sequence_length}
  %fieldset.dsform
    %legend sequencing target:
    %p
      %label{:for => "dspecies"}
        %span species:
        = partial :formdrop, locals:{para: "dspecies", values:@species, column: :species, required: false}
    %p
      %label{:for => "dtissue"}
        %span tissue:
        %select{:name => "dtissue", :id => "dtissue"}
    %p
      %label{:for => "dcell"}
        %span cell:
        %select{:name => "dcell", :id => "dcell"}
  %fieldset.dsform
    %legend 
      related entities:
      %strong 
        %abbr{:title => "required"}*
    %p
      %label{:for => "dselname"}
        %span selection:
        = partial :formdrop, locals:{para: "dselname", values:@selections, column: :selection_name, required: true}
  %fieldset.dsform
    %legend data files:
    %p
      %label{:for => "pepfile"}
        %span peptide sequence file:
        %input{:type => "file", :name => "pepfile", :id => "pepfile"}
    %p
      %label{:for => "dnafile"}
        %span dna sequenc file:
        %input{:type => "file", :name => "dnafile", :id => "dnafile"}
      
  %input{:type => "submit", :value => "add sequencing dataset"}
  %input{:type => "reset"}
